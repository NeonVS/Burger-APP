{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Development Projects\\\\burger_app\\\\src\\\\containers\\\\Checkout\\\\Checkout.js\";\nimport React, { Component } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport ContactData from './ContactData/ContactData';\nimport CheckoutSummary from '../../components/Order/CheckoutSummary/CheckoutSummary';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index';\n\nclass Checkout extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.checkoutCancelledHandler = () => {\n      this.props.history.goBack();\n    };\n\n    this.checkoutContinuedHandler = () => {\n      this.props.history.replace('/checkout/contact-data');\n    };\n  }\n\n  componentWillMount() {\n    this.props.onInitPurchase();\n  } // componentWillMount(){\n  //     const query = new URLSearchParams(this.props.location.search);\n  //     const ingredients = {};\n  //     let price = 0;\n  //     for(let param of query.entries()){\n  //         if(param[0] === 'price'){\n  //             price = param[1];\n  //         }else{\n  //             ingredients[param[0]] = +param[1];\n  //         }\n  //     }\n  //     this.setState({ingredients:ingredients});\n  //     this.setState({totalPrice:price});\n  // }\n\n\n  render() {\n    let summary = /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 23\n      }\n    });\n    let purchasedRedirect;\n\n    if (this.props.ings) {\n      purchasedRedirect = this.props.purchased ? /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 54\n        }\n      }) : null;\n    }\n\n    if (this.props.ings) {\n      summary = /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, purchasedRedirect, /*#__PURE__*/React.createElement(CheckoutSummary, {\n        ingredients: this.props.ings,\n        checkoutCancelled: this.checkoutCancelledHandler,\n        checkoutContinued: this.checkoutContinuedHandler,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: this.props.match.path + '/contact-data',\n        component: ContactData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }));\n    }\n\n    return summary;\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    ings: state.burgerBuilder.ingredients,\n    purchased: state.order.purchased\n  };\n};\n\nconst mapDispatchToProp = dispatch => {\n  return {\n    onInitPurchase: () => dispatch(actions.purchaseInit)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProp)(Checkout);","map":{"version":3,"sources":["D:/Web Development Projects/burger_app/src/containers/Checkout/Checkout.js"],"names":["React","Component","Route","Redirect","ContactData","CheckoutSummary","connect","actions","Checkout","checkoutCancelledHandler","props","history","goBack","checkoutContinuedHandler","replace","componentWillMount","onInitPurchase","render","summary","purchasedRedirect","ings","purchased","match","path","mapStateToProps","state","burgerBuilder","ingredients","order","mapDispatchToProp","dispatch","purchaseInit"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAAQC,KAAR,EAAcC,QAAd,QAA6B,kBAA7B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,eAAP,MAA4B,wDAA5B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,KAAKC,OAAZ,MAAyB,2BAAzB;;AACA,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAAA;AAAA;;AAAA,SAK7BQ,wBAL6B,GAKF,MAAK;AAC5B,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,MAAnB;AACH,KAP4B;;AAAA,SAS7BC,wBAT6B,GASF,MAAK;AAC5B,WAAKH,KAAL,CAAWC,OAAX,CAAmBG,OAAnB,CAA2B,wBAA3B;AACH,KAX4B;AAAA;;AAa7BC,EAAAA,kBAAkB,GAAE;AAChB,SAAKL,KAAL,CAAWM,cAAX;AACH,GAf4B,CAgB7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAIAC,EAAAA,MAAM,GAAE;AACJ,QAAIC,OAAO,gBAAG,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAd;AACA,QAAIC,iBAAJ;;AACA,QAAG,KAAKT,KAAL,CAAWU,IAAd,EAAmB;AACfD,MAAAA,iBAAiB,GAAG,KAAKT,KAAL,CAAWW,SAAX,gBAAqB,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArB,GAA2C,IAA/D;AACH;;AACD,QAAG,KAAKX,KAAL,CAAWU,IAAd,EAAmB;AACfF,MAAAA,OAAO,gBACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCC,iBADD,eAEA,oBAAC,eAAD;AAAiB,QAAA,WAAW,EAAE,KAAKT,KAAL,CAAWU,IAAzC;AAA+C,QAAA,iBAAiB,EAAE,KAAKX,wBAAvE;AAAiG,QAAA,iBAAiB,EAAE,KAAKI,wBAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,eAGA,oBAAC,KAAD;AACA,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWY,KAAX,CAAiBC,IAAjB,GAAsB,eAD5B;AAC6C,QAAA,SAAS,EAAEnB,WADxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,CADJ;AAQH;;AACD,WACIc,OADJ;AAGH;;AApD4B;;AAuDjC,MAAMM,eAAe,GAAGC,KAAK,IAAG;AAC5B,SAAO;AACHL,IAAAA,IAAI,EAACK,KAAK,CAACC,aAAN,CAAoBC,WADtB;AAEHN,IAAAA,SAAS,EAACI,KAAK,CAACG,KAAN,CAAYP;AAFnB,GAAP;AAIH,CALD;;AAMA,MAAMQ,iBAAiB,GAAGC,QAAQ,IAAG;AACjC,SAAO;AACHd,IAAAA,cAAc,EAAE,MAAKc,QAAQ,CAACvB,OAAO,CAACwB,YAAT;AAD1B,GAAP;AAGH,CAJD;;AAKA,eAAezB,OAAO,CAACkB,eAAD,EAAiBK,iBAAjB,CAAP,CAA2CrB,QAA3C,CAAf","sourcesContent":["import React,{Component} from 'react';\r\nimport {Route,Redirect} from 'react-router-dom';\r\nimport ContactData from './ContactData/ContactData'; \r\nimport CheckoutSummary from '../../components/Order/CheckoutSummary/CheckoutSummary';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from '../../store/actions/index';\r\nclass Checkout extends Component {\r\n    // state = {\r\n    //     ingredients:null,\r\n    //     totalPrice:0\r\n    // }\r\n    checkoutCancelledHandler = () =>{\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    checkoutContinuedHandler = () =>{\r\n        this.props.history.replace('/checkout/contact-data');\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.onInitPurchase();\r\n    }\r\n    // componentWillMount(){\r\n    //     const query = new URLSearchParams(this.props.location.search);\r\n    //     const ingredients = {};\r\n    //     let price = 0;\r\n    //     for(let param of query.entries()){\r\n    //         if(param[0] === 'price'){\r\n    //             price = param[1];\r\n    //         }else{\r\n    //             ingredients[param[0]] = +param[1];\r\n    //         }\r\n    //     }\r\n    //     this.setState({ingredients:ingredients});\r\n    //     this.setState({totalPrice:price});\r\n    // }\r\n\r\n    \r\n\r\n    render(){\r\n        let summary = <Redirect to=\"/\"/>;\r\n        let purchasedRedirect;\r\n        if(this.props.ings){\r\n            purchasedRedirect = this.props.purchased?<Redirect to=\"/\" /> : null;\r\n        }\r\n        if(this.props.ings){\r\n            summary=(\r\n                <div>\r\n                {purchasedRedirect}\r\n                <CheckoutSummary ingredients={this.props.ings} checkoutCancelled={this.checkoutCancelledHandler} checkoutContinued={this.checkoutContinuedHandler}/>\r\n                <Route \r\n                path={this.props.match.path+'/contact-data'} component={ContactData} />\r\n                </div>\r\n            );\r\n        }\r\n        return(\r\n            summary\r\n        );\r\n    };\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return {\r\n        ings:state.burgerBuilder.ingredients,\r\n        purchased:state.order.purchased\r\n    }\r\n}\r\nconst mapDispatchToProp = dispatch =>{\r\n    return {\r\n        onInitPurchase: () =>dispatch(actions.purchaseInit)\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProp)(Checkout);"]},"metadata":{},"sourceType":"module"}