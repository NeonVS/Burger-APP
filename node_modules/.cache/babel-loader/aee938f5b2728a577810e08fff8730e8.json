{"ast":null,"code":"import _classCallCheck from\"D:\\\\Web Development Projects\\\\burger_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Web Development Projects\\\\burger_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"D:\\\\Web Development Projects\\\\burger_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"D:\\\\Web Development Projects\\\\burger_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import Modal from'../../components/UI/Modal/Modal';import Aux from'../Auxillary/Auxillary';var withErrorHandler=function withErrorHandler(WrappedComponent,axios){var _temp;return _temp=/*#__PURE__*/function(_Component){_inherits(_temp,_Component);var _super=_createSuper(_temp);function _temp(){var _this;_classCallCheck(this,_temp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null};_this.errorConfirmedHandler=function(){_this.setState({error:null});};return _this;}_createClass(_temp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.reqInterceptor=axios.interceptors.request.use(function(req){_this2.setState({error:null});return req;});this.resInterceptor=axios.interceptors.response.use(function(res){return res;},function(err){_this2.setState({error:err});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){axios.interceptors.request.eject(this.reqInterceptor);axios.interceptors.response.eject(this.resInterceptor);}},{key:\"render\",value:function render(){console.log(\"error Handler\");return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Modal,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),/*#__PURE__*/React.createElement(WrappedComponent,this.props));}}]);return _temp;}(Component),_temp;};export default withErrorHandler;","map":{"version":3,"sources":["D:/Web Development Projects/burger_app/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Modal","Aux","withErrorHandler","WrappedComponent","axios","state","error","errorConfirmedHandler","setState","reqInterceptor","interceptors","request","use","req","resInterceptor","response","res","err","eject","console","log","message","props"],"mappings":"weAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,iCAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,wBAAhB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,gBAAD,CAAkBC,KAAlB,CAA0B,WAC/C,mUACIC,KADJ,CACU,CACFC,KAAK,CAAC,IADJ,CADV,OAkBIC,qBAlBJ,CAkB4B,UAAK,CACzB,MAAKC,QAAL,CAAc,CAACF,KAAK,CAAC,IAAP,CAAd,EACH,CApBL,8FAIuB,iBACf,KAAKG,cAAL,CAAsBL,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,SAAAC,GAAG,CAAE,CACtD,MAAI,CAACL,QAAL,CAAc,CAACF,KAAK,CAAC,IAAP,CAAd,EACA,MAAOO,CAAAA,GAAP,CACH,CAHqB,CAAtB,CAIA,KAAKC,cAAL,CAAsBV,KAAK,CAACM,YAAN,CAAmBK,QAAnB,CAA4BH,GAA5B,CAAgC,SAAAI,GAAG,QAAEA,CAAAA,GAAF,EAAnC,CAAyC,SAAAC,GAAG,CAAG,CACjE,MAAI,CAACT,QAAL,CAAc,CAACF,KAAK,CAACW,GAAP,CAAd,EACH,CAFqB,CAAtB,CAGH,CAZL,mEAa0B,CAClBb,KAAK,CAACM,YAAN,CAAmBC,OAAnB,CAA2BO,KAA3B,CAAiC,KAAKT,cAAtC,EACAL,KAAK,CAACM,YAAN,CAAmBK,QAAnB,CAA4BG,KAA5B,CAAkC,KAAKJ,cAAvC,EACH,CAhBL,uCAqBY,CACJK,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA,mBACI,oBAAC,GAAD,mBACI,oBAAC,KAAD,EAAO,IAAI,CAAE,KAAKf,KAAL,CAAWC,KAAxB,CAA+B,WAAW,CAAE,KAAKC,qBAAjD,EACK,KAAKF,KAAL,CAAWC,KAAX,CAAiB,KAAKD,KAAL,CAAWC,KAAX,CAAiBe,OAAlC,CAA0C,IAD/C,CADJ,cAII,oBAAC,gBAAD,CAAsB,KAAKC,KAA3B,CAJJ,CADJ,CAQH,CA/BL,mBAAqBvB,SAArB,QAiCH,CAlCD,CAoCA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React,{Component} from 'react';\r\nimport Modal from '../../components/UI/Modal/Modal';\r\nimport Aux from '../Auxillary/Auxillary';\r\n\r\nconst withErrorHandler = (WrappedComponent,axios)=>{\r\n    return class extends Component{\r\n        state={\r\n            error:null\r\n        }\r\n        componentDidMount(){\r\n            this.reqInterceptor = axios.interceptors.request.use(req=>{\r\n                this.setState({error:null});\r\n                return req;\r\n            });\r\n            this.resInterceptor = axios.interceptors.response.use(res=>res,err =>{\r\n                this.setState({error:err});\r\n            });\r\n        }\r\n        componentWillUnmount(){\r\n            axios.interceptors.request.eject(this.reqInterceptor);\r\n            axios.interceptors.response.eject(this.resInterceptor);\r\n        }\r\n\r\n        errorConfirmedHandler = () =>{\r\n            this.setState({error:null})\r\n        }\r\n        render(){\r\n            console.log(\"error Handler\");\r\n            return (\r\n                <Aux>\r\n                    <Modal show={this.state.error} modalClosed={this.errorConfirmedHandler}>\r\n                        {this.state.error?this.state.error.message:null}\r\n                    </Modal>\r\n                    <WrappedComponent {...this.props} />\r\n                </Aux>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default withErrorHandler;"]},"metadata":{},"sourceType":"module"}